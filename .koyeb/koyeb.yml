# .koyeb/koyeb.yml
app: kannada-entertainment-bot
services:
  - name: bot
    instance_type: free
    build:
      type: docker
      dockerfile: Dockerfile
    regions:
      - fra
    env:
      # IMPORTANT: Set the real values in the Koyeb control panel, not here.
      - key: API_ID
        scope: RUN
        value: ""
      - key: API_HASH
        scope: RUN
        value: ""
      - key: BOT_TOKEN
        scope: RUN
        value: ""
      - key: ADMIN_IDS
        scope: RUN
        value: ""
      - key: CHANNEL_IDS
        scope: RUN
        value: ""
      - key: MONGO_URL
        scope: RUN
        value: ""
      - key: DATABASE_NAME
        scope: RUN
        value: "kannada_entertainment"
      - key: BOT_USERNAME
        scope: RUN
        value: ""
      - key: BLOGGER_API_KEY
        scope: RUN
        value: ""
      - key: BLOGGER_BLOG_ID
        scope: RUN
        value: ""
      - key: BLOG_URL
        scope: RUN
        value: ""
      - key: PORT
        scope: RUN
        value: "8080"
    ports:
      - port: 8080
        protocol: http
    health_checks:
      http:
        # This path must match the one in your kannada_bot.py Flask app
        path: /health
        port: 8080
